(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{VFTF:function(n,l,t){"use strict";class e{constructor(n,l,t,e,i,s,u,o,r,c){this.id=n,this.placeId=l,this.userId=t,this.placeTitle=e,this.placeImage=i,this.firstName=s,this.lastName=u,this.guestNumber=o,this.bookedFrom=r,this.bookedTo=c}}var i=t("2Vo4"),s=t("IzEk"),u=t("quSY");class o extends u.a{constructor(n,l){super()}schedule(n,l=0){return this}}class r extends o{constructor(n,l){super(n,l),this.scheduler=n,this.work=l,this.pending=!1}schedule(n,l=0){if(this.closed)return this;this.state=n;const t=this.id,e=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(e,t,l)),this.pending=!0,this.delay=l,this.id=this.id||this.requestAsyncId(e,this.id,l),this}requestAsyncId(n,l,t=0){return setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,l,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return l;clearInterval(l)}execute(n,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,l);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,l){let t=!1,e=void 0;try{this.work(n)}catch(i){t=!0,e=!!i&&i||new Error(i)}if(t)return this.unsubscribe(),e}_unsubscribe(){const n=this.id,l=this.scheduler,t=l.actions,e=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==e&&t.splice(e,1),null!=n&&(this.id=this.recycleAsyncId(l,n,null)),this.delay=null}}let c=(()=>{class n{constructor(l,t=n.now){this.SchedulerAction=l,this.now=t}schedule(n,l=0,t){return new this.SchedulerAction(this,n).schedule(t,l)}}return n.now=()=>Date.now(),n})();class h extends c{constructor(n,l=c.now){super(n,()=>h.delegate&&h.delegate!==this?h.delegate.now():l()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,l=0,t){return h.delegate&&h.delegate!==this?h.delegate.schedule(n,l,t):super.schedule(n,l,t)}flush(n){const{actions:l}=this;if(this.active)return void l.push(n);let t;this.active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=l.shift());if(this.active=!1,t){for(;n=l.shift();)n.unsubscribe();throw t}}}const a=new h(r);var b=t("7o/Q"),d=t("EY2u"),p=t("LRne"),g=t("HDdC");let k=(()=>{class n{constructor(n,l,t){this.kind=n,this.value=l,this.error=t,this.hasValue="N"===n}observe(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}do(n,l,t){switch(this.kind){case"N":return n&&n(this.value);case"E":return l&&l(this.error);case"C":return t&&t()}}accept(n,l,t){return n&&"function"==typeof n.next?this.observe(n):this.do(n,l,t)}toObservable(){switch(this.kind){case"N":return Object(p.a)(this.value);case"E":return n=this.error,new g.a(l=>l.error(n));case"C":return Object(d.b)()}var n;throw new Error("unexpected notification kind value")}static createNext(l){return void 0!==l?new n("N",l):n.undefinedValueNotification}static createError(l){return new n("E",void 0,l)}static createComplete(){return n.completeNotification}}return n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n})();function f(n,l=a){var t;const e=(t=n)instanceof Date&&!isNaN(+t)?+n-l.now():Math.abs(n);return n=>n.lift(new v(e,l))}class v{constructor(n,l){this.delay=n,this.scheduler=l}call(n,l){return l.subscribe(new m(n,this.delay,this.scheduler))}}class m extends b.a{constructor(n,l,t){super(n),this.delay=l,this.scheduler=t,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const l=n.source,t=l.queue,e=n.scheduler,i=n.destination;for(;t.length>0&&t[0].time-e.now()<=0;)t.shift().notification.observe(i);if(t.length>0){const l=Math.max(0,t[0].time-e.now());this.schedule(n,l)}else this.unsubscribe(),l.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(m.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const l=this.scheduler,t=new w(l.now()+this.delay,n);this.queue.push(t),!1===this.active&&this._schedule(l)}_next(n){this.scheduleNotification(k.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(k.createComplete()),this.unsubscribe()}}class w{constructor(n,l){this.time=n,this.notification=l}}var x=t("vkgz"),y=t("qXBG"),N=t("8Y7J");t.d(l,"a",(function(){return I}));let I=(()=>{class n{constructor(n){this.authService=n,this._bookings=new i.a([])}get bookings(){return this._bookings.asObservable()}addBooking(n,l,t,i,u,o,r,c){const h=new e(Math.random().toString(),n,this.authService.userId,l,t,i,u,o,r,c);return this.bookings.pipe(Object(s.a)(1),f(1e3),Object(x.a)(n=>{this._bookings.next(n.concat(h))}))}cancelBooking(n){return this.bookings.pipe(Object(s.a)(1),f(1e3),Object(x.a)(l=>{this._bookings.next(l.filter(l=>l.id!==n))}))}}return n.ngInjectableDef=N.Nb({factory:function(){return new n(N.Ob(y.a))},token:n,providedIn:"root"}),n})()},ZpdU:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{}var s=t("pMnS"),u=t("MKJQ"),o=t("sZkV"),r=t("SVse"),c=t("VFTF");class h{constructor(n,l){this.bookingService=n,this.loadingCtrl=l}ngOnInit(){this.bookingsSubscription=this.bookingService.bookings.subscribe(n=>{this.loadedBookings=n})}onCancelBooking(n,l){this.loadingCtrl.create({message:"Cancelling..."}).then(l=>{l.present(),this.bookingService.cancelBooking(n).subscribe(()=>{l.dismiss()})}),l.close()}ngOnDestroy(){this.bookingsSubscription&&this.bookingsSubscription.unsubscribe()}}var a=e.nb({encapsulation:0,styles:[[""]],data:{}});function b(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"ion-col",[["class","ion-text-center"],["offset-md","3"],["size-md","6"]],null,null,null,u.X,u.j)),e.ob(1,49152,null,0,o.s,[e.h,e.k,e.x],null,null),(n()(),e.pb(2,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["No Bookings found"]))],null,null)}function d(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,15,"ion-item-sliding",[],null,null,null,u.hb,u.u)),e.ob(1,49152,[["slidingBooking",4]],0,o.L,[e.h,e.k,e.x],null,null),(n()(),e.pb(2,0,null,0,7,"ion-item",[],null,null,null,u.ib,u.r)),e.ob(3,49152,null,0,o.G,[e.h,e.k,e.x],null,null),(n()(),e.pb(4,0,null,0,5,"ion-label",[],null,null,null,u.jb,u.v)),e.ob(5,49152,null,0,o.M,[e.h,e.k,e.x],null,null),(n()(),e.pb(6,0,null,0,1,"h5",[],null,null,null,null,null)),(n()(),e.Hb(7,null,["",""])),(n()(),e.pb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Hb(9,null,["Guest Number: ",""])),(n()(),e.pb(10,0,null,0,5,"ion-item-options",[],null,null,null,u.gb,u.t)),e.ob(11,49152,null,0,o.K,[e.h,e.k,e.x],null,null),(n()(),e.pb(12,0,null,0,3,"ion-item-option",[["color","danger"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==n.component.onCancelBooking(n.context.$implicit.id,e.Ab(n,1))&&i),i}),u.fb,u.s)),e.ob(13,49152,null,0,o.J,[e.h,e.k,e.x],{color:[0,"color"]},null),(n()(),e.pb(14,0,null,0,1,"ion-icon",[["name","trash"],["slot","icon-only"]],null,null,null,u.cb,u.o)),e.ob(15,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,13,0,"danger"),n(l,15,0,"trash")}),(function(n,l){n(l,7,0,l.context.$implicit.placeTitle),n(l,9,0,l.context.$implicit.guestNumber)}))}function p(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,5,"ion-col",[["offset-md","3"],["size-md","6"]],null,null,null,u.X,u.j)),e.ob(1,49152,null,0,o.s,[e.h,e.k,e.x],null,null),(n()(),e.pb(2,0,null,0,3,"ion-list",[],null,null,null,u.kb,u.w)),e.ob(3,49152,null,0,o.N,[e.h,e.k,e.x],null,null),(n()(),e.eb(16777216,null,0,1,null,d)),e.ob(5,278528,null,0,r.j,[e.M,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,5,0,l.component.loadedBookings)}),null)}function g(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,10,"ion-header",[],null,null,null,u.bb,u.n)),e.ob(1,49152,null,0,o.A,[e.h,e.k,e.x],null,null),(n()(),e.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,u.Bb,u.N)),e.ob(3,49152,null,0,o.yb,[e.h,e.k,e.x],null,null),(n()(),e.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,u.R,u.d)),e.ob(5,49152,null,0,o.k,[e.h,e.k,e.x],null,null),(n()(),e.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,u.lb,u.y)),e.ob(7,49152,null,0,o.Q,[e.h,e.k,e.x],null,null),(n()(),e.pb(8,0,null,0,2,"ion-title",[],null,null,null,u.Ab,u.M)),e.ob(9,49152,null,0,o.wb,[e.h,e.k,e.x],null,null),(n()(),e.Hb(-1,0,["Your Bookings"])),(n()(),e.pb(11,0,null,null,9,"ion-content",[],null,null,null,u.Y,u.k)),e.ob(12,49152,null,0,o.t,[e.h,e.k,e.x],null,null),(n()(),e.pb(13,0,null,0,7,"ion-grid",[],null,null,null,u.ab,u.m)),e.ob(14,49152,null,0,o.z,[e.h,e.k,e.x],null,null),(n()(),e.pb(15,0,null,0,5,"ion-row",[],null,null,null,u.ob,u.A)),e.ob(16,49152,null,0,o.fb,[e.h,e.k,e.x],null,null),(n()(),e.eb(16777216,null,0,1,null,b)),e.ob(18,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.eb(16777216,null,0,1,null,p)),e.ob(20,16384,null,0,r.k,[e.M,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,18,0,!t.loadedBookings||t.loadedBookings.length<=0),n(l,20,0,t.loadedBookings&&t.loadedBookings.length>0)}),null)}function k(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"app-bookings",[],null,null,null,g,a)),e.ob(1,245760,null,0,h,[c.a,o.Cb],null,null)],(function(n,l){n(l,1,0)}),null)}var f=e.lb("app-bookings",h,k,{},{},[]),v=t("s7LF"),m=t("iInd");class w{}t.d(l,"BookingsPageModuleNgFactory",(function(){return x}));var x=e.mb(i,[],(function(n){return e.xb([e.yb(512,e.j,e.X,[[8,[s.a,f]],[3,e.j],e.v]),e.yb(4608,r.m,r.l,[e.s,[2,r.s]]),e.yb(4608,v.u,v.u,[]),e.yb(4608,o.b,o.b,[e.x,e.g]),e.yb(4608,o.Db,o.Db,[o.b,e.j,e.p]),e.yb(4608,o.Hb,o.Hb,[o.b,e.j,e.p]),e.yb(1073742336,r.b,r.b,[]),e.yb(1073742336,v.t,v.t,[]),e.yb(1073742336,v.h,v.h,[]),e.yb(1073742336,o.Ab,o.Ab,[]),e.yb(1073742336,m.o,m.o,[[2,m.t],[2,m.m]]),e.yb(1073742336,w,w,[]),e.yb(1073742336,i,i,[]),e.yb(1024,m.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);