function _get(n,e,t){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,e,t){var l=_superPropBase(n,e);if(l){var i=Object.getOwnPropertyDescriptor(l,e);return i.get?i.get.call(t):i.value}})(n,e,t||n)}function _superPropBase(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&null!==(n=_getPrototypeOf(n)););return n}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var l=e[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}function _possibleConstructorReturn(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(n):e}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return(_setPrototypeOf=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{VFTF:function(n,e,t){"use strict";var l,i=function n(e,t,l,i,u,o,r,s,c,a){_classCallCheck(this,n),this.id=e,this.placeId=t,this.userId=l,this.placeTitle=i,this.placeImage=u,this.firstName=o,this.lastName=r,this.guestNumber=s,this.bookedFrom=c,this.bookedTo=a},u=t("2Vo4"),o=t("IzEk"),r=function(n){function e(n,t){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,t))).scheduler=n,l.work=t,l.pending=!1,l}return _inherits(e,n),_createClass(e,[{key:"schedule",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=n;var t=this.id,l=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(l,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(l,this.id,e),this}},{key:"requestAsyncId",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(n.flush.bind(n,this),t)}},{key:"recycleAsyncId",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(n,e){var t=!1,l=void 0;try{this.work(n)}catch(i){t=!0,l=!!i&&i||new Error(i)}if(t)return this.unsubscribe(),l}},{key:"_unsubscribe",value:function(){var n=this.id,e=this.scheduler,t=e.actions,l=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==l&&t.splice(l,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null}}]),e}(function(n){function e(n,t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,n),_createClass(e,[{key:"schedule",value:function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(t("quSY").a)),s=function(){var n=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.now;_classCallCheck(this,n),this.SchedulerAction=e,this.now=t}return _createClass(n,[{key:"schedule",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,n).schedule(t,e)}}]),n}();return n.now=function(){return Date.now()},n}(),c=new(function(n){function e(n){var t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.now;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,(function(){return e.delegate&&e.delegate!==_assertThisInitialized(t)?e.delegate.now():l()})))).actions=[],t.active=!1,t.scheduled=void 0,t}return _inherits(e,n),_createClass(e,[{key:"schedule",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(n,t,l):_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,n,t,l)}},{key:"flush",value:function(n){var e=this.actions;if(this.active)e.push(n);else{var t;this.active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}}]),e}(s))(r),a=t("7o/Q"),h=t("EY2u"),b=t("LRne"),f=t("HDdC"),d=((l=function(){function n(e,t,l){_classCallCheck(this,n),this.kind=e,this.value=t,this.error=l,this.hasValue="N"===e}return _createClass(n,[{key:"observe",value:function(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}}},{key:"do",value:function(n,e,t){switch(this.kind){case"N":return n&&n(this.value);case"E":return e&&e(this.error);case"C":return t&&t()}}},{key:"accept",value:function(n,e,t){return n&&"function"==typeof n.next?this.observe(n):this.do(n,e,t)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(b.a)(this.value);case"E":return n=this.error,new f.a((function(e){return e.error(n)}));case"C":return Object(h.b)()}var n;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new n("N",e):n.undefinedValueNotification}},{key:"createError",value:function(e){return new n("E",void 0,e)}},{key:"createComplete",value:function(){return n.completeNotification}}]),n}()).completeNotification=new l("C"),l.undefinedValueNotification=new l("N",void 0),l);function p(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,l=(e=n)instanceof Date&&!isNaN(+e)?+n-t.now():Math.abs(n);return function(n){return n.lift(new k(l,t))}}var k=function(){function n(e,t){_classCallCheck(this,n),this.delay=e,this.scheduler=t}return _createClass(n,[{key:"call",value:function(n,e){return e.subscribe(new v(n,this.delay,this.scheduler))}}]),n}(),v=function(n){function e(n,t,l){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).delay=t,i.scheduler=l,i.queue=[],i.active=!1,i.errored=!1,i}return _inherits(e,n),_createClass(e,[{key:"_schedule",value:function(n){this.active=!0,this.destination.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}},{key:"scheduleNotification",value:function(n){if(!0!==this.errored){var e=this.scheduler,t=new g(e.now()+this.delay,n);this.queue.push(t),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(n){this.scheduleNotification(d.createNext(n))}},{key:"_error",value:function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(d.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(n){for(var e=n.source,t=e.queue,l=n.scheduler,i=n.destination;t.length>0&&t[0].time-l.now()<=0;)t.shift().notification.observe(i);if(t.length>0){var u=Math.max(0,t[0].time-l.now());this.schedule(n,u)}else this.unsubscribe(),e.active=!1}}]),e}(a.a),g=function n(e,t){_classCallCheck(this,n),this.time=e,this.notification=t},y=t("vkgz"),_=t("qXBG"),C=t("8Y7J");t.d(e,"a",(function(){return m}));var w,m=((w=function(){function n(e){_classCallCheck(this,n),this.authService=e,this._bookings=new u.a([])}return _createClass(n,[{key:"addBooking",value:function(n,e,t,l,u,r,s,c){var a=this,h=new i(Math.random().toString(),n,this.authService.userId,e,t,l,u,r,s,c);return this.bookings.pipe(Object(o.a)(1),p(1e3),Object(y.a)((function(n){a._bookings.next(n.concat(h))})))}},{key:"cancelBooking",value:function(n){var e=this;return this.bookings.pipe(Object(o.a)(1),p(1e3),Object(y.a)((function(t){e._bookings.next(t.filter((function(e){return e.id!==n})))})))}},{key:"bookings",get:function(){return this._bookings.asObservable()}}]),n}()).ngInjectableDef=C.Nb({factory:function(){return new w(C.Ob(_.a))},token:w,providedIn:"root"}),w)},ZpdU:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),i=function n(){_classCallCheck(this,n)},u=t("pMnS"),o=t("MKJQ"),r=t("sZkV"),s=t("SVse"),c=t("VFTF"),a=function(){function n(e,t){_classCallCheck(this,n),this.bookingService=e,this.loadingCtrl=t}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.bookingsSubscription=this.bookingService.bookings.subscribe((function(e){n.loadedBookings=e}))}},{key:"onCancelBooking",value:function(n,e){var t=this;this.loadingCtrl.create({message:"Cancelling..."}).then((function(e){e.present(),t.bookingService.cancelBooking(n).subscribe((function(){e.dismiss()}))})),e.close()}},{key:"ngOnDestroy",value:function(){this.bookingsSubscription&&this.bookingsSubscription.unsubscribe()}}]),n}(),h=l.nb({encapsulation:0,styles:[[""]],data:{}});function b(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,3,"ion-col",[["class","ion-text-center"],["offset-md","3"],["size-md","6"]],null,null,null,o.X,o.j)),l.ob(1,49152,null,0,r.s,[l.h,l.k,l.x],null,null),(n()(),l.pb(2,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),l.Hb(-1,null,["No Bookings found"]))],null,null)}function f(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,15,"ion-item-sliding",[],null,null,null,o.hb,o.u)),l.ob(1,49152,[["slidingBooking",4]],0,r.L,[l.h,l.k,l.x],null,null),(n()(),l.pb(2,0,null,0,7,"ion-item",[],null,null,null,o.ib,o.r)),l.ob(3,49152,null,0,r.G,[l.h,l.k,l.x],null,null),(n()(),l.pb(4,0,null,0,5,"ion-label",[],null,null,null,o.jb,o.v)),l.ob(5,49152,null,0,r.M,[l.h,l.k,l.x],null,null),(n()(),l.pb(6,0,null,0,1,"h5",[],null,null,null,null,null)),(n()(),l.Hb(7,null,["",""])),(n()(),l.pb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),l.Hb(9,null,["Guest Number: ",""])),(n()(),l.pb(10,0,null,0,5,"ion-item-options",[],null,null,null,o.gb,o.t)),l.ob(11,49152,null,0,r.K,[l.h,l.k,l.x],null,null),(n()(),l.pb(12,0,null,0,3,"ion-item-option",[["color","danger"]],null,[[null,"click"]],(function(n,e,t){var i=!0;return"click"===e&&(i=!1!==n.component.onCancelBooking(n.context.$implicit.id,l.Ab(n,1))&&i),i}),o.fb,o.s)),l.ob(13,49152,null,0,r.J,[l.h,l.k,l.x],{color:[0,"color"]},null),(n()(),l.pb(14,0,null,0,1,"ion-icon",[["name","trash"],["slot","icon-only"]],null,null,null,o.cb,o.o)),l.ob(15,49152,null,0,r.B,[l.h,l.k,l.x],{name:[0,"name"]},null)],(function(n,e){n(e,13,0,"danger"),n(e,15,0,"trash")}),(function(n,e){n(e,7,0,e.context.$implicit.placeTitle),n(e,9,0,e.context.$implicit.guestNumber)}))}function d(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,5,"ion-col",[["offset-md","3"],["size-md","6"]],null,null,null,o.X,o.j)),l.ob(1,49152,null,0,r.s,[l.h,l.k,l.x],null,null),(n()(),l.pb(2,0,null,0,3,"ion-list",[],null,null,null,o.kb,o.w)),l.ob(3,49152,null,0,r.N,[l.h,l.k,l.x],null,null),(n()(),l.eb(16777216,null,0,1,null,f)),l.ob(5,278528,null,0,s.j,[l.M,l.J,l.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){n(e,5,0,e.component.loadedBookings)}),null)}function p(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,10,"ion-header",[],null,null,null,o.bb,o.n)),l.ob(1,49152,null,0,r.A,[l.h,l.k,l.x],null,null),(n()(),l.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,o.Bb,o.N)),l.ob(3,49152,null,0,r.yb,[l.h,l.k,l.x],null,null),(n()(),l.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.R,o.d)),l.ob(5,49152,null,0,r.k,[l.h,l.k,l.x],null,null),(n()(),l.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.lb,o.y)),l.ob(7,49152,null,0,r.Q,[l.h,l.k,l.x],null,null),(n()(),l.pb(8,0,null,0,2,"ion-title",[],null,null,null,o.Ab,o.M)),l.ob(9,49152,null,0,r.wb,[l.h,l.k,l.x],null,null),(n()(),l.Hb(-1,0,["Your Bookings"])),(n()(),l.pb(11,0,null,null,9,"ion-content",[],null,null,null,o.Y,o.k)),l.ob(12,49152,null,0,r.t,[l.h,l.k,l.x],null,null),(n()(),l.pb(13,0,null,0,7,"ion-grid",[],null,null,null,o.ab,o.m)),l.ob(14,49152,null,0,r.z,[l.h,l.k,l.x],null,null),(n()(),l.pb(15,0,null,0,5,"ion-row",[],null,null,null,o.ob,o.A)),l.ob(16,49152,null,0,r.fb,[l.h,l.k,l.x],null,null),(n()(),l.eb(16777216,null,0,1,null,b)),l.ob(18,16384,null,0,s.k,[l.M,l.J],{ngIf:[0,"ngIf"]},null),(n()(),l.eb(16777216,null,0,1,null,d)),l.ob(20,16384,null,0,s.k,[l.M,l.J],{ngIf:[0,"ngIf"]},null)],(function(n,e){var t=e.component;n(e,18,0,!t.loadedBookings||t.loadedBookings.length<=0),n(e,20,0,t.loadedBookings&&t.loadedBookings.length>0)}),null)}var k=l.lb("app-bookings",a,(function(n){return l.Jb(0,[(n()(),l.pb(0,0,null,null,1,"app-bookings",[],null,null,null,p,h)),l.ob(1,245760,null,0,a,[c.a,r.Cb],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),v=t("s7LF"),g=t("iInd"),y=function n(){_classCallCheck(this,n)};t.d(e,"BookingsPageModuleNgFactory",(function(){return _}));var _=l.mb(i,[],(function(n){return l.xb([l.yb(512,l.j,l.X,[[8,[u.a,k]],[3,l.j],l.v]),l.yb(4608,s.m,s.l,[l.s,[2,s.s]]),l.yb(4608,v.u,v.u,[]),l.yb(4608,r.b,r.b,[l.x,l.g]),l.yb(4608,r.Db,r.Db,[r.b,l.j,l.p]),l.yb(4608,r.Hb,r.Hb,[r.b,l.j,l.p]),l.yb(1073742336,s.b,s.b,[]),l.yb(1073742336,v.t,v.t,[]),l.yb(1073742336,v.h,v.h,[]),l.yb(1073742336,r.Ab,r.Ab,[]),l.yb(1073742336,g.o,g.o,[[2,g.t],[2,g.m]]),l.yb(1073742336,y,y,[]),l.yb(1073742336,i,i,[]),l.yb(1024,g.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);